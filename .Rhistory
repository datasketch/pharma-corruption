devtools::install_github("datasketch/pharma-corruption")
shiny::runApp('inst/pharma-corruption-app')
shiny::runApp('inst/pharma-corruption-app')
runApp('inst/pharma-corruption-app')
shiny::runApp('inst/pharma-corruption-app')
devtools::install_github("datasketch/hgchmagic", ref = "767c3867535994f1a1fd8c24594d40db3128843d")
runApp('inst/pharma-corruption-app')
## code to prepare `DATASET` dataset goes here
library(dplyr)
library(jsonlite)
library(tidyr)
library(purrr)
# read data ---------------------------------------------------------------
googledrive::drive_deauth()
googledrive::drive_download("https://drive.google.com/file/d/1pGGRJV9RH3yBeG4qXdNBL64HsxELd47B/view",
path = "data-raw/data/aimon.json", overwrite = TRUE)
data_pharma <- stream_in(file("data-raw/data/aimon.json"))
View(data_pharma)
data_pharma$`Published-at` <- lubridate::as_date(
lubridate::ymd_hms(data_pharma$`Published Date`))
data_pharma$`Corruption Case Study`[data_pharma$`Corruption Case Study`] <- "Yes"
data_pharma$`Published-at` <- lubridate::as_date(
lubridate::ymd_hms(data_pharma$`Published Date`))
data_pharma$Published.Date
data_pharma <- data_pharma |>
rename( URL = url,
`Media type` = `media-type`,
`Source` = `Source Name`,
`English title` = `Title`,
`Publication year` = `Year`,
`Publication date` = `Published Date`,
`Country / region` = `Country/Region`,
`Corruption case study` = `Corruption Case Study`,
`Associated topic` = `topics`,
`Links to similar articles` = `Similar Stories Links`,
`Titles of similar articles`= `Similar Stories Titles`,
`Corruption categories` = `Corruption Categories`,
`Health categories` = `Health Categories`)
library(dplyr)
library(jsonlite)
library(tidyr)
library(purrr)
# read json as list
data_pharma <- stream_in(file("data-raw/data/aimon.json"))
data_pharma$`Published-at` <- lubridate::as_date(
lubridate::ymd_hms(data_pharma$`Published Date`))
data_pharma$`Corruption Case Study`[data_pharma$`Corruption Case Study`] <- "Yes"
## code to prepare `DATASET` dataset goes here
library(dplyr)
library(jsonlite)
library(tidyr)
library(purrr)
# read data ---------------------------------------------------------------
googledrive::drive_deauth()
googledrive::drive_download("https://drive.google.com/file/d/1pGGRJV9RH3yBeG4qXdNBL64HsxELd47B/view",
path = "data-raw/data/aimon.json", overwrite = TRUE)
data_pharma <- stream_in(file("data-raw/data/aimon.json"))
## code to prepare `DATASET` dataset goes here
library(dplyr)
library(jsonlite)
library(tidyr)
library(purrr)
# read json as list
# ls <- lapply(readLines("data-raw/data/aimon.json"), fromJSON)
# read data ---------------------------------------------------------------
googledrive::drive_deauth()
googledrive::drive_download("https://drive.google.com/file/d/1pGGRJV9RH3yBeG4qXdNBL64HsxELd47B/view",
path = "data-raw/data/aimon.json", overwrite = TRUE)
data_pharma <- stream_in(file("data-raw/data/aimon.json"))
data_pharma$`Published-at` <- lubridate::as_date(
lubridate::ymd_hms(data_pharma$`Published Date`))
names(data_pharma)
## code to prepare `DATASET` dataset goes here
library(dplyr)
library(jsonlite)
library(tidyr)
library(purrr)
# read data ---------------------------------------------------------------
googledrive::drive_deauth()
googledrive::drive_download("https://drive.google.com/file/d/1pGGRJV9RH3yBeG4qXdNBL64HsxELd47B/view",
path = "data-raw/data/aimon.json", overwrite = TRUE)
data_pharma <- stream_in(file("data-raw/data/aimon.json"))
names(data_pharma)
names(data_pharma) <- gsub("\\.", " ", names(data_pharma))
View(data_pharma)
data_pharma$`Published-at` <- lubridate::as_date(
lubridate::ymd_hms(data_pharma$`Published Date`))
data_pharma$`Corruption Case Study`[data_pharma$`Corruption Case Study`] <- "Yes"
View(data_pharma)
View(data_pharma)
data_pharma <- data_pharma |>
rename( URL = url,
`Media type` = `media-type`,
`Source` = `Source Name`,
`English title` = `Title`,
`Publication year` = `Year`,
`Publication date` = `Published Date`,
`Country / region` = `Country/Region`,
#`Corruption case study` = `Corruption Case Study`,
`Associated topic` = `topics`,
`Links to similar articles` = `Similar Stories Links`,
`Titles of similar articles`= `Similar Stories Titles`,
`Corruption categories` = `Corruption Categories`,
`Health categories` = `Health Categories`)
data_pharma <- data_pharma |>
rename( URL = url,
`Media type` = `media type`,
`Source` = `Source Name`,
`English title` = `Title`,
`Publication year` = `Year`,
`Publication date` = `Published Date`,
`Country / region` = `Country/Region`,
#`Corruption case study` = `Corruption Case Study`,
`Associated topic` = `topics`,
`Links to similar articles` = `Similar Stories Links`,
`Titles of similar articles`= `Similar Stories Titles`,
`Corruption categories` = `Corruption Categories`,
`Health categories` = `Health Categories`)
names(data_pharma)
data_pharma <- data_pharma |>
rename( URL = url,
`Media type` = `media type`,
`Source` = `Source Name`,
`English title` = `Title`,
`Publication year` = `Year`,
`Publication date` = `Published Date`,
#`Corruption case study` = `Corruption Case Study`,
`Associated topic` = `topics`,
`Links to similar articles` = `Similar Stories Links`,
`Titles of similar articles`= `Similar Stories Titles`,
`Corruption categories` = `Corruption Categories`,
`Health categories` = `Health Categories`)
